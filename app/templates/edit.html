{% extends 'layout.html' %}
{% block content %}
<h2>编辑视频</h2>
{% if error %}<div class="error">{{ error }}</div>{% endif %}
<form method="post">
  <div style="margin-bottom:8px;">
    <label>标题</label>
    <input type="text" name="title" value="{{ video.title }}" required style="width:100%; max-width:400px; padding:6px;">
  </div>
  <div style="margin-bottom:8px;">
    <label>
      <input type="checkbox" name="is_public" {% if video.is_public %}checked{% endif %}>
      公开
    </label>
  </div>
  <div style="margin-top:16px;">
    <button type="submit" style="padding:8px 16px; background:#2196f3; color:#fff; border:none; border-radius:4px; cursor:pointer;">保存</button>
    <a href="{{ url_for('video.detail', vid=video.id) }}" style="margin-left:8px; padding:8px 16px; background:#999; color:#fff; text-decoration:none; border-radius:4px; display:inline-block;">取消</a>
  </div>
</form>

<hr style="margin:24px 0; border:none; border-top:1px solid #ddd;">

<h3 style="color:#d32f2f;">危险操作</h3>
<form method="post" action="{{ url_for('video.delete', vid=video.id) }}" onsubmit="return confirm('确定要删除这个视频吗？此操作不可恢复！');">
  <button type="submit" style="padding:8px 16px; background:#d32f2f; color:#fff; border:none; border-radius:4px; cursor:pointer;">删除视频</button>
</form>
{% endblock %}
